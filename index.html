<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê∫ Î°† Ïö∏ÌîÑ ÌïòÏö∏ÎßÅ Î≤åÌÅ¨ÏóÖ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #ecf0f1;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            padding: 20px;
            text-align: center;
            color: white;
        }
        
        .header-title {
            font-size: clamp(1.5em, 5vw, 2.5em);
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .header-subtitle {
            font-size: clamp(1em, 3vw, 1.2em);
            opacity: 0.95;
        }
        
        .dashboard {
            background: #34495e;
            padding: 20px;
        }
        
        .chart-title {
            color: #e74c3c;
            font-size: clamp(1.2em, 4vw, 1.5em);
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .chart-container {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #e74c3c;
            height: 240px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .empty-chart {
            color: #7f8c8d;
            text-align: center;
            font-style: italic;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #fff;
        }
        
        .stat-card-title {
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .exercise-tabs {
            display: flex;
            background: #1a1a1a;
            overflow-x: auto;
        }
        
        .exercise-tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            color: #bdc3c7;
            white-space: nowrap;
        }
        
        .exercise-tab.active {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border-bottom-color: #fff;
        }
        
        .exercise-tab:hover:not(.active) {
            background: #2c3e50;
            color: #e74c3c;
        }
        
        .content {
            padding: 20px;
            background: #1a1a1a;
        }
        
        .quote {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            font-style: italic;
            border: 2px solid #fff;
        }
        
        .exercise-card {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 20px;
            color: white;
            border: 2px solid #e74c3c;
        }
        
        .exercise-name {
            font-size: clamp(1.3em, 4vw, 1.8em);
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 8px;
        }
        
        .exercise-target {
            background: rgba(231, 76, 60, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            border: 1px solid #e74c3c;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .record-form {
            background: rgba(0,0,0,0.3);
            padding: 18px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid #e74c3c;
        }
        
        .form-title {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .input-field {
            display: flex;
            flex-direction: column;
        }
        
        .input-label {
            color: #bdc3c7;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .input {
            background: #2c3e50;
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 14px;
            min-height: 45px;
        }
        
        .input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2);
        }
        
        .memo-input {
            background: #2c3e50;
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 14px;
            height: 80px;
            resize: vertical;
            font-family: Arial, sans-serif;
        }
        
        .memo-input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2);
        }
        
        .add-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            border: 2px solid #fff;
            width: 100%;
            max-width: 300px;
            transition: all 0.3s ease;
        }
        
        .add-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        
        .records-history {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 18px;
            border: 1px solid #e74c3c;
        }
        
        .history-title {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .record-item {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            border-left: 4px solid #e74c3c;
        }
        
        .record-date {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .record-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .record-stat {
            text-align: center;
            padding: 8px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 8px;
        }
        
        .record-stat-value {
            font-weight: bold;
            color: #e74c3c;
        }
        
        .record-stat-label {
            font-size: 0.8em;
            color: #bdc3c7;
            margin-top: 2px;
        }
        
        .record-memo {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            border-left: 3px solid #e74c3c;
            font-style: italic;
            color: #ecf0f1;
        }
        
        .no-records {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            padding: 30px 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            border: 2px dashed #34495e;
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .record-details {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="header-title">üê∫ Î°† Ïö∏ÌîÑ ÌïòÏö∏ÎßÅ Î≤åÌÅ¨ÏóÖ</h1>
            <p class="header-subtitle">4ÎåÄ Ïö¥Îèô Í∏∞Î°ù ÌîÑÎ°úÍ∑∏Îû®</p>
        </div>
        
        <div class="dashboard">
            <div class="chart-title" id="chartTitle">üìä Ïä§ÏøºÌä∏ Ï£ºÍ∞Ñ ÏµúÍ≥† Ï§ëÎüâ Ï∂îÏù¥</div>
            <div class="chart-container" id="chartContainer">
                <div id="chartBars" style="display: flex; align-items: flex-end; height: 160px; padding: 40px 10px 10px 10px; gap: 8px; overflow-x: auto;">
                    <div class="empty-chart" id="emptyChart">
                        Í∏∞Î°ùÏùÑ Ï∂îÍ∞ÄÌïòÎ©¥ Ïó¨Í∏∞Ïóê Ï§ëÎüâ ÏÑ±Ïû• Í∑∏ÎûòÌîÑÍ∞Ä ÌëúÏãúÎê©ÎãàÎã§ üí™
                    </div>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-title">üèãÔ∏è Ïä§ÏøºÌä∏</div>
                    <div class="stat-number" id="squatMax">0</div>
                    <div class="stat-label">ÏµúÍ≥† Ï§ëÎüâ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">üíÄ Îç∞ÎìúÎ¶¨ÌîÑÌä∏</div>
                    <div class="stat-number" id="deadliftMax">0</div>
                    <div class="stat-label">ÏµúÍ≥† Ï§ëÎüâ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">üí™ Î≤§ÏπòÌîÑÎ†àÏä§</div>
                    <div class="stat-number" id="benchMax">0</div>
                    <div class="stat-label">ÏµúÍ≥† Ï§ëÎüâ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">üöÄ Ïò§Î≤ÑÌó§ÎìúÌîÑÎ†àÏä§</div>
                    <div class="stat-number" id="ohpMax">0</div>
                    <div class="stat-label">ÏµúÍ≥† Ï§ëÎüâ (kg)</div>
                </div>
            </div>
        </div>
        
        <div class="exercise-tabs">
            <div class="exercise-tab active" onclick="showExercise('squat')">üèãÔ∏è Ïä§ÏøºÌä∏</div>
            <div class="exercise-tab" onclick="showExercise('deadlift')">üíÄ Îç∞ÎìúÎ¶¨ÌîÑÌä∏</div>
            <div class="exercise-tab" onclick="showExercise('bench')">üí™ Î≤§ÏπòÌîÑÎ†àÏä§</div>
            <div class="exercise-tab" onclick="showExercise('ohp')">üöÄ Ïò§Î≤ÑÌó§ÎìúÌîÑÎ†àÏä§</div>
        </div>
        
        <div class="content">
            <div class="quote">
                "ÎäëÎåÄÎäî ÌòºÏûêÏÑúÎèÑ Í∞ïÌïòÎã§. ÌïòÏßÄÎßå Îçî Í∞ïÌï¥ÏßÄÍ∏∞ ÏúÑÌï¥ Îß§Ïùº ÌõàÎ†®ÌïúÎã§." - Î°† Ïö∏ÌîÑ üê∫
            </div>
            
            <div class="exercise-card">
                <div class="exercise-name" id="exerciseName">üèãÔ∏è Ïä§ÏøºÌä∏ (Squat)</div>
                <div class="exercise-target" id="exerciseTarget">ÌïòÏ≤¥Ïùò Ïôï - ÎåÄÌá¥ÏÇ¨ÎëêÍ∑º, ÎëîÍ∑º, ÌñÑÏä§Ìä∏ÎßÅ</div>
                
                <div class="record-form">
                    <div class="form-title">üê∫ ÏÉàÎ°úÏö¥ Í∏∞Î°ù Ï∂îÍ∞Ä</div>
                    
                    <div class="input-field" style="margin-bottom: 15px;">
                        <label class="input-label">ÎÇ†Ïßú</label>
                        <input type="date" class="input" id="dateInput">
                    </div>
                    
                    <div class="input-row">
                        <div class="input-field">
                            <label class="input-label">Ï§ëÎüâ (kg)</label>
                            <input type="number" class="input" id="weightInput" placeholder="100" min="0" step="0.5">
                        </div>
                        
                        <div class="input-field">
                            <label class="input-label">ÌöüÏàò</label>
                            <input type="number" class="input" id="repsInput" placeholder="5" min="1">
                        </div>
                    </div>
                    
                    <div class="input-field" style="margin-bottom: 15px;">
                        <label class="input-label">Î©îÎ™® (ÎäêÎÇå, Ïª®ÎîîÏÖò Îì±)</label>
                        <textarea class="memo-input" id="memoInput" placeholder="Ïòà: Ïûò Î∞ÄÎ†∏Îã§, Î¨¥Î¶éÏù¥ ÏïÑÌå†Îã§, ÌèºÏù¥ Ï¢ãÏïòÎã§ Îì±" maxlength="200"></textarea>
                    </div>
                    
                    <button class="add-button" onclick="addRecord()">üê∫ Í∏∞Î°ù Ï∂îÍ∞ÄÌïòÍ∏∞</button>
                </div>
                
                <div class="records-history">
                    <div class="history-title" id="historyTitle">üìà Ïä§ÏøºÌä∏ Í∏∞Î°ù ÌûàÏä§ÌÜ†Î¶¨</div>
                    <div id="recordsList">
                        <div class="no-records">ÏïÑÏßÅ Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.<br>Ï≤´ Í∏∞Î°ùÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî! üê∫</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ïö¥Îèô Í∏∞Î°ù Îç∞Ïù¥ÌÑ∞
        let workoutData = {
            squat: [],
            deadlift: [],
            bench: [],
            ohp: []
        };

        let currentExercise = 'squat';

        // Ïö¥ÎèôÎ≥Ñ Ï†ïÎ≥¥
        const exerciseInfo = {
            squat: {
                name: 'üèãÔ∏è Ïä§ÏøºÌä∏ (Squat)',
                target: 'ÌïòÏ≤¥Ïùò Ïôï - ÎåÄÌá¥ÏÇ¨ÎëêÍ∑º, ÎëîÍ∑º, ÌñÑÏä§Ìä∏ÎßÅ',
                emoji: 'üèãÔ∏è'
            },
            deadlift: {
                name: 'üíÄ Îç∞ÎìúÎ¶¨ÌîÑÌä∏ (Deadlift)',
                target: 'Ï†ÑÏã†Ïùò Ï†úÏôï - ÌõÑÎ©¥ÏÇ¨Ïä¨, Îì±, ÏΩîÏñ¥',
                emoji: 'üíÄ'
            },
            bench: {
                name: 'üí™ Î≤§ÏπòÌîÑÎ†àÏä§ (Bench Press)',
                target: 'ÏÉÅÏ≤¥Ïùò Ïôï - ÎåÄÌùâÍ∑º, ÏÇºÍ∞ÅÍ∑º, ÏÇºÎëêÍ∑º',
                emoji: 'üí™'
            },
            ohp: {
                name: 'üöÄ Ïò§Î≤ÑÌó§ÎìúÌîÑÎ†àÏä§ (Overhead Press)',
                target: 'Ïñ¥Íπ®Ïùò Ï†úÏôï - ÏÇºÍ∞ÅÍ∑º, ÏΩîÏñ¥, ÏÇºÎëêÍ∑º',
                emoji: 'üöÄ'
            }
        };

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïã§Ìñâ
        window.onload = function() {
            setTodayDate();
            loadData();
            updateDisplay();
        };

        // Ïò§Îäò ÎÇ†Ïßú ÏÑ§Ï†ï
        function setTodayDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('dateInput').value = today;
        }

        // Îç∞Ïù¥ÌÑ∞ Î°úÎìú (Ïò§Î•ò Î∞©ÏßÄ)
        function loadData() {
            try {
                if (typeof(Storage) !== "undefined" && window.localStorage) {
                    const savedData = localStorage.getItem('loneWolfWorkoutData');
                    if (savedData) {
                        workoutData = JSON.parse(savedData);
                    }
                } else {
                    console.log('localStorageÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§. ÏÑ∏ÏÖò Ï†ÄÏû•ÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§.');
                }
            } catch (error) {
                console.log('localStorage Ïò§Î•ò, Î©îÎ™®Î¶¨ Ï†ÄÏû• ÏÇ¨Ïö©:', error);
            }
        }

        // Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• (Ïò§Î•ò Î∞©ÏßÄ)
        function saveData() {
            try {
                if (typeof(Storage) !== "undefined" && window.localStorage) {
                    localStorage.setItem('loneWolfWorkoutData', JSON.stringify(workoutData));
                    return true;
                } else {
                    console.log('localStorageÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏñ¥ Î©îÎ™®Î¶¨ÏóêÎßå Ï†ÄÏû•Îê©ÎãàÎã§.');
                    return true; // Î©îÎ™®Î¶¨ Ï†ÄÏû•ÏùÄ ÏÑ±Í≥µÏúºÎ°ú Ï≤òÎ¶¨
                }
            } catch (error) {
                console.log('Ï†ÄÏû• Ïò§Î•ò, Î©îÎ™®Î¶¨ÏóêÎßå Ïú†ÏßÄ:', error);
                return true; // Ïò§Î•òÍ∞Ä ÏûàÏñ¥ÎèÑ Î©îÎ™®Î¶¨ÏóêÎäî Ï†ÄÏû•Îê®
            }
        }

        // Ïö¥Îèô ÌÉ≠ Ï†ÑÌôò
        function showExercise(exercise) {
            currentExercise = exercise;
            
            // ÌÉ≠ ÌôúÏÑ±Ìôî
            document.querySelectorAll('.exercise-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateDisplay();
        }

        // Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
        function updateChart() {
            const chartBars = document.getElementById('chartBars');
            const emptyChart = document.getElementById('emptyChart');
            const records = workoutData[currentExercise] || [];
            
            if (records.length === 0) {
                chartBars.innerHTML = '<div class="empty-chart">Í∏∞Î°ùÏùÑ Ï∂îÍ∞ÄÌïòÎ©¥ Ïó¨Í∏∞Ïóê Ï§ëÎüâ ÏÑ±Ïû• Í∑∏ÎûòÌîÑÍ∞Ä ÌëúÏãúÎê©ÎãàÎã§ üí™</div>';
                return;
            }
            
            // Ï£ºÍ∞Ñ Îç∞Ïù¥ÌÑ∞ Í≥ÑÏÇ∞
            const weeklyData = calculateWeeklyProgress(records);
            
            if (weeklyData.length === 0) {
                chartBars.innerHTML = '<div class="empty-chart">Í∏∞Î°ùÏùÑ Ï∂îÍ∞ÄÌïòÎ©¥ Ïó¨Í∏∞Ïóê Ï§ëÎüâ ÏÑ±Ïû• Í∑∏ÎûòÌîÑÍ∞Ä ÌëúÏãúÎê©ÎãàÎã§ üí™</div>';
                return;
            }
            
            const maxWeight = Math.max(...weeklyData.map(d => d.maxWeight));
            let barsHTML = '';
            
            weeklyData.forEach((item, index) => {
                const height = maxWeight > 0 ? Math.max(20, (item.maxWeight / maxWeight) * 80) : 20;
                const colors = {
                    squat: '#e74c3c',
                    deadlift: '#8e44ad', 
                    bench: '#2980b9',
                    ohp: '#27ae60'
                };
                
                barsHTML += `
                    <div style="display: flex; flex-direction: column; align-items: center; margin: 0 8px; min-width: 50px; position: relative;">
                        <div style="color: #e74c3c; font-size: 13px; font-weight: bold; margin-bottom: 10px; position: absolute; top: -35px; white-space: nowrap;">${item.maxWeight}kg</div>
                        <div style="width: 32px; height: ${height}px; background: ${colors[currentExercise]}; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);"></div>
                        <div style="color: #bdc3c7; font-size: 10px; font-weight: bold; margin-top: 8px; text-align: center;">${item.week}Ï£ºÏ∞®</div>
                    </div>
                `;
            });
            
            chartBars.innerHTML = barsHTML;
        }

        // Ï£ºÍ∞Ñ ÏßÑÌñâÎèÑ Í≥ÑÏÇ∞
        function calculateWeeklyProgress(records) {
            if (!records || records.length === 0) return [];
            
            const validRecords = records.filter(record => 
                record && record.date && typeof record.weight === 'number' && record.weight > 0
            );
            
            if (validRecords.length === 0) return [];
            
            const sortedRecords = validRecords.sort((a, b) => new Date(a.date) - new Date(b.date));
            const weeklyGroups = {};
            
            sortedRecords.forEach(record => {
                const date = new Date(record.date);
                const weekStart = new Date(date);
                weekStart.setDate(date.getDate() - date.getDay());
                const weekKey = weekStart.toISOString().split('T')[0];
                
                if (!weeklyGroups[weekKey]) {
                    weeklyGroups[weekKey] = [];
                }
                weeklyGroups[weekKey].push(record.weight);
            });
            
            const weeklyData = [];
            const sortedWeeks = Object.keys(weeklyGroups).sort();
            
            sortedWeeks.forEach((weekKey, index) => {
                const weights = weeklyGroups[weekKey];
                const maxWeight = Math.max(...weights);
                weeklyData.push({
                    week: index + 1,
                    maxWeight: maxWeight,
                    date: weekKey
                });
            });
            
            return weeklyData.slice(-8); // ÏµúÍ∑º 8Ï£º
        }

        // ÌôîÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateDisplay() {
            // Ï†úÎ™© ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('chartTitle').textContent = `üìä ${exerciseInfo[currentExercise].name} Ï£ºÍ∞Ñ ÏµúÍ≥† Ï§ëÎüâ Ï∂îÏù¥`;
            document.getElementById('exerciseName').textContent = exerciseInfo[currentExercise].name;
            document.getElementById('exerciseTarget').textContent = exerciseInfo[currentExercise].target;
            document.getElementById('historyTitle').textContent = `üìà ${exerciseInfo[currentExercise].name} Í∏∞Î°ù ÌûàÏä§ÌÜ†Î¶¨`;
            
            // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
            updateStats();
            
            // Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            updateChart();
            
            // Í∏∞Î°ù Î™©Î°ù ÏóÖÎç∞Ïù¥Ìä∏
            displayRecords();
        }

        // Í∏∞Î°ù Ï∂îÍ∞Ä
        function addRecord() {
            const date = document.getElementById('dateInput').value;
            const weight = document.getElementById('weightInput').value;
            const reps = document.getElementById('repsInput').value;
            const memo = document.getElementById('memoInput').value;

            // ÏûÖÎ†• Í≤ÄÏ¶ù
            if (!date) {
                alert('ÎÇ†ÏßúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            if (!weight || parseFloat(weight) <= 0) {
                alert('Ïò¨Î∞îÎ•∏ Ï§ëÎüâÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            if (!reps || parseInt(reps) <= 0) {
                alert('Ïò¨Î∞îÎ•∏ ÌöüÏàòÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            const weightNum = parseFloat(weight);
            const repsNum = parseInt(reps);

            // Ï§ëÎ≥µ Í∏∞Î°ù ÌôïÏù∏
            const existingIndex = workoutData[currentExercise].findIndex(record => record.date === date);
            if (existingIndex !== -1) {
                if (!confirm('Í∞ôÏùÄ ÎÇ†ÏßúÏóê Ïù¥ÎØ∏ Í∏∞Î°ùÏù¥ ÏûàÏäµÎãàÎã§. ÎçÆÏñ¥Ïì∞ÏãúÍ≤†ÏäµÎãàÍπå?')) {
                    return;
                }
                workoutData[currentExercise].splice(existingIndex, 1);
            }

            // ÏÉà Í∏∞Î°ù Ï∂îÍ∞Ä
            const newRecord = {
                date: date,
                weight: weightNum,
                reps: repsNum,
                memo: memo.trim(),
                volume: weightNum * repsNum,
                timestamp: Date.now()
            };

            workoutData[currentExercise].push(newRecord);
            workoutData[currentExercise].sort((a, b) => new Date(b.date) - new Date(a.date));

            // Ï†ÄÏû•
            if (saveData()) {
                // Ìèº Ï¥àÍ∏∞Ìôî
                document.getElementById('weightInput').value = '';
                document.getElementById('repsInput').value = '';
                document.getElementById('memoInput').value = '';
                setTodayDate();

                // ÌôîÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏
                updateDisplay();

                alert('üê∫ Í∏∞Î°ùÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§!');
            }
        }

        // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
        function updateStats() {
            const exercises = ['squat', 'deadlift', 'bench', 'ohp'];
            
            exercises.forEach(exercise => {
                const records = workoutData[exercise] || [];
                let maxWeight = 0;
                
                if (records.length > 0) {
                    maxWeight = Math.max(...records.map(r => r.weight || 0));
                }
                
                const elementId = exercise === 'squat' ? 'squatMax' : 
                                 exercise === 'deadlift' ? 'deadliftMax' :
                                 exercise === 'bench' ? 'benchMax' : 'ohpMax';
                
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = maxWeight;
                }
            });
        }

        // Í∏∞Î°ù ÌëúÏãú
        function displayRecords() {
            const container = document.getElementById('recordsList');
            const records = workoutData[currentExercise] || [];
            
            if (records.length === 0) {
                container.innerHTML = '<div class="no-records">ÏïÑÏßÅ Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.<br>Ï≤´ Í∏∞Î°ùÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî! üê∫</div>';
                return;
            }

            let html = '';
            records.slice(0, 10).forEach(record => {
                html += `
                    <div class="record-item">
                        <div class="record-date">${formatDate(record.date)}</div>
                        <div class="record-details">
                            <div class="record-stat">
                                <div class="record-stat-value">${record.weight}</div>
                                <div class="record-stat-label">Ï§ëÎüâ (kg)</div>
                            </div>
                            <div class="record-stat">
                                <div class="record-stat-value">${record.reps}</div>
                                <div class="record-stat-label">ÌöüÏàò</div>
                            </div>
                            <div class="record-stat">
                                <div class="record-stat-value">${record.volume.toFixed(1)}</div>
                                <div class="record-stat-label">Ï¥ù Î≥ºÎ•®</div>
                            </div>
                        </div>
                        ${record.memo ? `<div class="record-memo">"${record.memo}"</div>` : ''}
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ
        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                return `${year}ÎÖÑ ${month}Ïõî ${day}Ïùº`;
            } catch (error) {
                return dateString;
            }
        }
    </script>
</body><!-- Ï†ÄÏûëÍ∂å Í≥†ÏßÄ -->
        <div style="background: #2c3e50; padding: 12px; margin: 15px 10px; border-radius: 8px; border: 1px solid #e74c3c; text-align: center;">
            <div style="color: #ecf0f1; font-size: 11px; line-height: 1.4;">
                <p style="margin: 4px 0;"><strong>¬© 2025 Î°† Ïö∏ÌîÑ Ïï±</strong></p>
                <p style="margin: 4px 0;">üö´ ÏÉÅÏóÖÏ†Å ÏÇ¨Ïö© Í∏àÏßÄ</p>
                <p style="margin: 4px 0;">üÜì Í∞úÏù∏ ÏÇ¨Ïö©Îßå ÌóàÏö©</p>
                <p style="margin: 4px 0;">‚ö†Ô∏è Î¨¥Îã® Î≥µÏ†ú Í∏àÏßÄ</p>
            </div>
        </div>
    </div>
</body>
</html>
</html>
