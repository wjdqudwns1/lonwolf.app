<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸº ë¡  ìš¸í”„ í•˜ìš¸ë§ ë²Œí¬ì—…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #ecf0f1;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            padding: 20px;
            text-align: center;
            color: white;
        }
        
        .header-title {
            font-size: clamp(1.5em, 5vw, 2.5em);
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .header-subtitle {
            font-size: clamp(1em, 3vw, 1.2em);
            opacity: 0.95;
        }
        
        .dashboard {
            background: #34495e;
            padding: 20px;
        }
        
        .chart-title {
            color: #e74c3c;
            font-size: clamp(1.2em, 4vw, 1.5em);
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .chart-container {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #e74c3c;
            height: 240px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .empty-chart {
            color: #7f8c8d;
            text-align: center;
            font-style: italic;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #fff;
        }
        
        .stat-card-title {
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .exercise-tabs {
            display: flex;
            background: #1a1a1a;
            overflow-x: auto;
        }
        
        .exercise-tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            color: #bdc3c7;
            white-space: nowrap;
        }
        
        .exercise-tab.active {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border-bottom-color: #fff;
        }
        
        .exercise-tab:hover:not(.active) {
            background: #2c3e50;
            color: #e74c3c;
        }
        
        .content {
            padding: 20px;
            background: #1a1a1a;
        }
        
        .quote {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            font-style: italic;
            border: 2px solid #fff;
        }
        
        .exercise-card {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 20px;
            color: white;
            border: 2px solid #e74c3c;
        }
        
        .exercise-name {
            font-size: clamp(1.3em, 4vw, 1.8em);
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 8px;
        }
        
        .exercise-target {
            background: rgba(231, 76, 60, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            border: 1px solid #e74c3c;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .record-form {
            background: rgba(0,0,0,0.3);
            padding: 18px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid #e74c3c;
        }
        
        .form-title {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .input-field {
            display: flex;
            flex-direction: column;
        }
        
        .input-label {
            color: #bdc3c7;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .input {
            background: #2c3e50;
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 14px;
            min-height: 45px;
        }
        
        .input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2);
        }
        
        .memo-input {
            background: #2c3e50;
            border: 2px solid #34495e;
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 14px;
            height: 80px;
            resize: vertical;
            font-family: Arial, sans-serif;
        }
        
        .memo-input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2);
        }
        
        .add-button {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            border: 2px solid #fff;
            width: 100%;
            max-width: 300px;
            transition: all 0.3s ease;
        }
        
        .add-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }
        
        .records-history {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 18px;
            border: 1px solid #e74c3c;
        }
        
        .history-title {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .record-item {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            border-left: 4px solid #e74c3c;
        }
        
        .record-date {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .record-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .record-stat {
            text-align: center;
            padding: 8px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 8px;
        }
        
        .record-stat-value {
            font-weight: bold;
            color: #e74c3c;
        }
        
        .record-stat-label {
            font-size: 0.8em;
            color: #bdc3c7;
            margin-top: 2px;
        }
        
        .record-memo {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            border-left: 3px solid #e74c3c;
            font-style: italic;
            color: #ecf0f1;
        }
        
        .no-records {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
            padding: 30px 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            border: 2px dashed #34495e;
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .record-details {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="header-title">ğŸº ë¡  ìš¸í”„ í•˜ìš¸ë§ ë²Œí¬ì—…</h1>
            <p class="header-subtitle">4ëŒ€ ìš´ë™ ê¸°ë¡ í”„ë¡œê·¸ë¨</p>
        </div>
        
        <div class="dashboard">
            <div class="chart-title" id="chartTitle">ğŸ“Š ìŠ¤ì¿¼íŠ¸ ì£¼ê°„ ìµœê³  ì¤‘ëŸ‰ ì¶”ì´</div>
            <div class="chart-container" id="chartContainer">
                <div id="chartBars" style="display: flex; align-items: flex-end; height: 160px; padding: 40px 10px 10px 10px; gap: 8px; overflow-x: auto;">
                    <div class="empty-chart" id="emptyChart">
                        ê¸°ë¡ì„ ì¶”ê°€í•˜ë©´ ì—¬ê¸°ì— ì¤‘ëŸ‰ ì„±ì¥ ê·¸ë˜í”„ê°€ í‘œì‹œë©ë‹ˆë‹¤ ğŸ’ª
                    </div>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-title">ğŸ‹ï¸ ìŠ¤ì¿¼íŠ¸</div>
                    <div class="stat-number" id="squatMax">0</div>
                    <div class="stat-label">ìµœê³  ì¤‘ëŸ‰ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">ğŸ’€ ë°ë“œë¦¬í”„íŠ¸</div>
                    <div class="stat-number" id="deadliftMax">0</div>
                    <div class="stat-label">ìµœê³  ì¤‘ëŸ‰ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">ğŸ’ª ë²¤ì¹˜í”„ë ˆìŠ¤</div>
                    <div class="stat-number" id="benchMax">0</div>
                    <div class="stat-label">ìµœê³  ì¤‘ëŸ‰ (kg)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-title">ğŸš€ ì˜¤ë²„í—¤ë“œí”„ë ˆìŠ¤</div>
                    <div class="stat-number" id="ohpMax">0</div>
                    <div class="stat-label">ìµœê³  ì¤‘ëŸ‰ (kg)</div>
                </div>
            </div>
        </div>
        
        <div class="exercise-tabs">
            <div class="exercise-tab active" onclick="showExercise('squat')">ğŸ‹ï¸ ìŠ¤ì¿¼íŠ¸</div>
            <div class="exercise-tab" onclick="showExercise('deadlift')">ğŸ’€ ë°ë“œë¦¬í”„íŠ¸</div>
            <div class="exercise-tab" onclick="showExercise('bench')">ğŸ’ª ë²¤ì¹˜í”„ë ˆìŠ¤</div>
            <div class="exercise-tab" onclick="showExercise('ohp')">ğŸš€ ì˜¤ë²„í—¤ë“œí”„ë ˆìŠ¤</div>
        </div>
        
        <div class="content">
            <div class="quote">
                "ëŠ‘ëŒ€ëŠ” í˜¼ìì„œë„ ê°•í•˜ë‹¤. í•˜ì§€ë§Œ ë” ê°•í•´ì§€ê¸° ìœ„í•´ ë§¤ì¼ í›ˆë ¨í•œë‹¤." - ë¡  ìš¸í”„ ğŸº
            </div>
            
            <div class="exercise-card">
                <div class="exercise-name" id="exerciseName">ğŸ‹ï¸ ìŠ¤ì¿¼íŠ¸ (Squat)</div>
                <div class="exercise-target" id="exerciseTarget">í•˜ì²´ì˜ ì™• - ëŒ€í‡´ì‚¬ë‘ê·¼, ë‘”ê·¼, í–„ìŠ¤íŠ¸ë§</div>
                
                <div class="record-form">
                    <div class="form-title">ğŸº ìƒˆë¡œìš´ ê¸°ë¡ ì¶”ê°€</div>
                    
                    <div class="input-field" style="margin-bottom: 15px;">
                        <label class="input-label">ë‚ ì§œ</label>
                        <input type="date" class="input" id="dateInput">
                    </div>
                    
                    <div class="input-row">
                        <div class="input-field">
                            <label class="input-label">ì¤‘ëŸ‰ (kg)</label>
                            <input type="number" class="input" id="weightInput" placeholder="100" min="0" step="0.5">
                        </div>
                        
                        <div class="input-field">
                            <label class="input-label">íšŸìˆ˜</label>
                            <input type="number" class="input" id="repsInput" placeholder="5" min="1">
                        </div>
                    </div>
                    
                    <div class="input-field" style="margin-bottom: 15px;">
                        <label class="input-label">ë©”ëª¨ (ëŠë‚Œ, ì»¨ë””ì…˜ ë“±)</label>
                        <textarea class="memo-input" id="memoInput" placeholder="ì˜ˆ: ì˜ ë°€ë ¸ë‹¤, ë¬´ë¦ì´ ì•„íŒ ë‹¤, í¼ì´ ì¢‹ì•˜ë‹¤ ë“±" maxlength="200"></textarea>
                    </div>
                    
                    <button class="add-button" onclick="addRecord()">ğŸº ê¸°ë¡ ì¶”ê°€í•˜ê¸°</button>
                </div>
                
                <div class="records-history">
                    <div class="history-title" id="historyTitle">ğŸ“ˆ ìŠ¤ì¿¼íŠ¸ ê¸°ë¡ íˆìŠ¤í† ë¦¬</div>
                    <div id="recordsList">
                        <div class="no-records">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.<br>ì²« ê¸°ë¡ì„ ì¶”ê°€í•´ë³´ì„¸ìš”! ğŸº</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ìš´ë™ ê¸°ë¡ ë°ì´í„°
        let workoutData = {
            squat: [],
            deadlift: [],
            bench: [],
            ohp: []
        };

        let currentExercise = 'squat';

        // ìš´ë™ë³„ ì •ë³´
        const exerciseInfo = {
            squat: {
                name: 'ğŸ‹ï¸ ìŠ¤ì¿¼íŠ¸ (Squat)',
                target: 'í•˜ì²´ì˜ ì™• - ëŒ€í‡´ì‚¬ë‘ê·¼, ë‘”ê·¼, í–„ìŠ¤íŠ¸ë§',
                emoji: 'ğŸ‹ï¸'
            },
            deadlift: {
                name: 'ğŸ’€ ë°ë“œë¦¬í”„íŠ¸ (Deadlift)',
                target: 'ì „ì‹ ì˜ ì œì™• - í›„ë©´ì‚¬ìŠ¬, ë“±, ì½”ì–´',
                emoji: 'ğŸ’€'
            },
            bench: {
                name: 'ğŸ’ª ë²¤ì¹˜í”„ë ˆìŠ¤ (Bench Press)',
                target: 'ìƒì²´ì˜ ì™• - ëŒ€í‰ê·¼, ì‚¼ê°ê·¼, ì‚¼ë‘ê·¼',
                emoji: 'ğŸ’ª'
            },
            ohp: {
                name: 'ğŸš€ ì˜¤ë²„í—¤ë“œí”„ë ˆìŠ¤ (Overhead Press)',
                target: 'ì–´ê¹¨ì˜ ì œì™• - ì‚¼ê°ê·¼, ì½”ì–´, ì‚¼ë‘ê·¼',
                emoji: 'ğŸš€'
            }
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.onload = function() {
            setTodayDate();
            loadData();
            updateDisplay();
        };

        // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
        function setTodayDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('dateInput').value = today;
        }

        // ë°ì´í„° ë¡œë“œ (ì˜¤ë¥˜ ë°©ì§€)
        function loadData() {
            try {
                if (typeof(Storage) !== "undefined" && window.localStorage) {
                    const savedData = localStorage.getItem('loneWolfWorkoutData');
                    if (savedData) {
                        workoutData = JSON.parse(savedData);
                    }
                } else {
                    console.log('localStorageë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„¸ì…˜ ì €ì¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.');
                }
            } catch (error) {
                console.log('localStorage ì˜¤ë¥˜, ë©”ëª¨ë¦¬ ì €ì¥ ì‚¬ìš©:', error);
            }
        }

        // ë°ì´í„° ì €ì¥ (ì˜¤ë¥˜ ë°©ì§€)
        function saveData() {
            try {
                if (typeof(Storage) !== "undefined" && window.localStorage) {
                    localStorage.setItem('loneWolfWorkoutData', JSON.stringify(workoutData));
                    return true;
                } else {
                    console.log('localStorageë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.');
                    return true; // ë©”ëª¨ë¦¬ ì €ì¥ì€ ì„±ê³µìœ¼ë¡œ ì²˜ë¦¬
                }
            } catch (error) {
                console.log('ì €ì¥ ì˜¤ë¥˜, ë©”ëª¨ë¦¬ì—ë§Œ ìœ ì§€:', error);
                return true; // ì˜¤ë¥˜ê°€ ìˆì–´ë„ ë©”ëª¨ë¦¬ì—ëŠ” ì €ì¥ë¨
            }
        }

        // ìš´ë™ íƒ­ ì „í™˜
        function showExercise(exercise) {
            currentExercise = exercise;
            
            // íƒ­ í™œì„±í™”
            document.querySelectorAll('.exercise-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateDisplay();
        }

        // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        function updateChart() {
            const chartBars = document.getElementById('chartBars');
            const emptyChart = document.getElementById('emptyChart');
            const records = workoutData[currentExercise] || [];
            
            if (records.length === 0) {
                chartBars.innerHTML = '<div class="empty-chart">ê¸°ë¡ì„ ì¶”ê°€í•˜ë©´ ì—¬ê¸°ì— ì¤‘ëŸ‰ ì„±ì¥ ê·¸ë˜í”„ê°€ í‘œì‹œë©ë‹ˆë‹¤ ğŸ’ª</div>';
                return;
            }
            
            // ì£¼ê°„ ë°ì´í„° ê³„ì‚°
            const weeklyData = calculateWeeklyProgress(records);
            
            if (weeklyData.length === 0) {
                chartBars.innerHTML = '<div class="empty-chart">ê¸°ë¡ì„ ì¶”ê°€í•˜ë©´ ì—¬ê¸°ì— ì¤‘ëŸ‰ ì„±ì¥ ê·¸ë˜í”„ê°€ í‘œì‹œë©ë‹ˆë‹¤ ğŸ’ª</div>';
                return;
            }
            
            const maxWeight = Math.max(...weeklyData.map(d => d.maxWeight));
            let barsHTML = '';
            
            weeklyData.forEach((item, index) => {
                const height = maxWeight > 0 ? Math.max(20, (item.maxWeight / maxWeight) * 80) : 20;
                const colors = {
                    squat: '#e74c3c',
                    deadlift: '#8e44ad', 
                    bench: '#2980b9',
                    ohp: '#27ae60'
                };
                
                barsHTML += `
                    <div style="display: flex; flex-direction: column; align-items: center; margin: 0 8px; min-width: 50px; position: relative;">
                        <div style="color: #e74c3c; font-size: 13px; font-weight: bold; margin-bottom: 10px; position: absolute; top: -35px; white-space: nowrap;">${item.maxWeight}kg</div>
                        <div style="width: 32px; height: ${height}px; background: ${colors[currentExercise]}; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);"></div>
                        <div style="color: #bdc3c7; font-size: 10px; font-weight: bold; margin-top: 8px; text-align: center;">${item.week}ì£¼ì°¨</div>
                    </div>
                `;
            });
            
            chartBars.innerHTML = barsHTML;
        }

        // ì£¼ê°„ ì§„í–‰ë„ ê³„ì‚°
        function calculateWeeklyProgress(records) {
            if (!records || records.length === 0) return [];
            
            const validRecords = records.filter(record => 
                record && record.date && typeof record.weight === 'number' && record.weight > 0
            );
            
            if (validRecords.length === 0) return [];
            
            const sortedRecords = validRecords.sort((a, b) => new Date(a.date) - new Date(b.date));
            const weeklyGroups = {};
            
            sortedRecords.forEach(record => {
                const date = new Date(record.date);
                const weekStart = new Date(date);
                weekStart.setDate(date.getDate() - date.getDay());
                const weekKey = weekStart.toISOString().split('T')[0];
                
                if (!weeklyGroups[weekKey]) {
                    weeklyGroups[weekKey] = [];
                }
                weeklyGroups[weekKey].push(record.weight);
            });
            
            const weeklyData = [];
            const sortedWeeks = Object.keys(weeklyGroups).sort();
            
            sortedWeeks.forEach((weekKey, index) => {
                const weights = weeklyGroups[weekKey];
                const maxWeight = Math.max(...weights);
                weeklyData.push({
                    week: index + 1,
                    maxWeight: maxWeight,
                    date: weekKey
                });
            });
            
            return weeklyData.slice(-8); // ìµœê·¼ 8ì£¼
        }

        // í™”ë©´ ì—…ë°ì´íŠ¸
        function updateDisplay() {
            // ì œëª© ì—…ë°ì´íŠ¸
            document.getElementById('chartTitle').textContent = `ğŸ“Š ${exerciseInfo[currentExercise].name} ì£¼ê°„ ìµœê³  ì¤‘ëŸ‰ ì¶”ì´`;
            document.getElementById('exerciseName').textContent = exerciseInfo[currentExercise].name;
            document.getElementById('exerciseTarget').textContent = exerciseInfo[currentExercise].target;
            document.getElementById('historyTitle').textContent = `ğŸ“ˆ ${exerciseInfo[currentExercise].name} ê¸°ë¡ íˆìŠ¤í† ë¦¬`;
            
            // í†µê³„ ì—…ë°ì´íŠ¸
            updateStats();
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateChart();
            
            // ê¸°ë¡ ëª©ë¡ ì—…ë°ì´íŠ¸
            displayRecords();
        }

        // ê¸°ë¡ ì¶”ê°€
        function addRecord() {
            const date = document.getElementById('dateInput').value;
            const weight = document.getElementById('weightInput').value;
            const reps = document.getElementById('repsInput').value;
            const memo = document.getElementById('memoInput').value;

            // ì…ë ¥ ê²€ì¦
            if (!date) {
                alert('ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            if (!weight || parseFloat(weight) <= 0) {
                alert('ì˜¬ë°”ë¥¸ ì¤‘ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            if (!reps || parseInt(reps) <= 0) {
                alert('ì˜¬ë°”ë¥¸ íšŸìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const weightNum = parseFloat(weight);
            const repsNum = parseInt(reps);

            // ì¤‘ë³µ ê¸°ë¡ í™•ì¸
            const existingIndex = workoutData[currentExercise].findIndex(record => record.date === date);
            if (existingIndex !== -1) {
                if (!confirm('ê°™ì€ ë‚ ì§œì— ì´ë¯¸ ê¸°ë¡ì´ ìˆìŠµë‹ˆë‹¤. ë®ì–´ì“°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    return;
                }
                workoutData[currentExercise].splice(existingIndex, 1);
            }

            // ìƒˆ ê¸°ë¡ ì¶”ê°€
            const newRecord = {
                date: date,
                weight: weightNum,
                reps: repsNum,
                memo: memo.trim(),
                volume: weightNum * repsNum,
                timestamp: Date.now()
            };

            workoutData[currentExercise].push(newRecord);
            workoutData[currentExercise].sort((a, b) => new Date(b.date) - new Date(a.date));

            // ì €ì¥
            if (saveData()) {
                // í¼ ì´ˆê¸°í™”
                document.getElementById('weightInput').value = '';
                document.getElementById('repsInput').value = '';
                document.getElementById('memoInput').value = '';
                setTodayDate();

                // í™”ë©´ ì—…ë°ì´íŠ¸
                updateDisplay();

                alert('ğŸº ê¸°ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            const exercises = ['squat', 'deadlift', 'bench', 'ohp'];
            
            exercises.forEach(exercise => {
                const records = workoutData[exercise] || [];
                let maxWeight = 0;
                
                if (records.length > 0) {
                    maxWeight = Math.max(...records.map(r => r.weight || 0));
                }
                
                const elementId = exercise === 'squat' ? 'squatMax' : 
                                 exercise === 'deadlift' ? 'deadliftMax' :
                                 exercise === 'bench' ? 'benchMax' : 'ohpMax';
                
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = maxWeight;
                }
            });
        }

        // ê¸°ë¡ í‘œì‹œ
        function displayRecords() {
            const container = document.getElementById('recordsList');
            const records = workoutData[currentExercise] || [];
            
            if (records.length === 0) {
                container.innerHTML = '<div class="no-records">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.<br>ì²« ê¸°ë¡ì„ ì¶”ê°€í•´ë³´ì„¸ìš”! ğŸº</div>';
                return;
            }

            let html = '';
            records.slice(0, 10).forEach(record => {
                html += `
                    <div class="record-item">
                        <div class="record-date">${formatDate(record.date)}</div>
                        <div class="record-details">
                            <div class="record-stat">
                                <div class="record-stat-value">${record.weight}</div>
                                <div class="record-stat-label">ì¤‘ëŸ‰ (kg)</div>
                            </div>
                            <div class="record-stat">
                                <div class="record-stat-value">${record.reps}</div>
                                <div class="record-stat-label">íšŸìˆ˜</div>
                            </div>
                            <div class="record-stat">
                                <div class="record-stat-value">${record.volume.toFixed(1)}</div>
                                <div class="record-stat-label">ì´ ë³¼ë¥¨</div>
                            </div>
                        </div>
                        ${record.memo ? `<div class="record-memo">"${record.memo}"</div>` : ''}
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // ë‚ ì§œ í¬ë§·íŒ…
        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                return `${year}ë…„ ${month}ì›” ${day}ì¼`;
            } catch (error) {
                return dateString;
            }
        }
    </script>
</body><!-- ì €ì‘ê¶Œ ê³ ì§€ -->
        <div style="background: #2c3e50; padding: 12px; margin: 15px 10px; border-radius: 8px; border: 1px solid #e74c3c; text-align: center;">
            <div style="color: #ecf0f1; font-size: 11px; line-height: 1.4;">
                <p style="margin: 4px 0;"><strong>Â© 2025 ë¡  ìš¸í”„ ì•±</strong></p>
                <p style="margin: 4px 0;">ğŸš« ìƒì—…ì  ì‚¬ìš© ê¸ˆì§€</p>
                <p style="margin: 4px 0;">ğŸ†“ ê°œì¸ ì‚¬ìš©ë§Œ í—ˆìš©</p>
                <p style="margin: 4px 0;">âš ï¸ ë¬´ë‹¨ ë³µì œ ê¸ˆì§€</p>
            </div>
        </div>
    </div>
</body>
</html>
</html>
